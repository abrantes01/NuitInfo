<div id="allClassRooms">

    <a data-ng-controller="ClassRoomCtrl" class="btn-add-room" data-ng-click="newClassRoom()" tooltip-trigger tooltip-placement="left" tooltip="CrÃ©er un nouveau groupe">
        +
    </a>

    <!-- Classrooms already joined -->
    <div class="classroom-item col-md-4" data-ng-repeat="classRoom in rooms" data-ng-if="classRoom.owners.length > 0 && classRoom.joined" data-ui-sref="app.classroom({ id: classRoom.id, name: classRoom.name })">
        <div class="wrapper pull-left">

            <!-- Room owner -->
            <div class="classroom-owners pull-left" data-ng-repeat="owner in classRoom.owners | limitTo: 1 ">
                <a data-ui-sref="app.profile({ id: owner.id })">
                    <img ng-src="{{ owner.avatar }}" alt="" class="avatar">
                </a>
            </div>

            <!-- Room name and info -->
            <div class="classroom-right">
                <p>{{ classRoom.name }}</p>
                <p class="text-muted">
                    <i class="fa fa-clock-o"></i>
                    {{ 'classroom.created-text' | translate }}
                    <span am-time-ago="classRoom.createdAt "></span>
                </p>
                <p class="text-muted">
                    <img src="images/members/members-icon.svg" width="14px" class="cloud-icon">
                    {{ classRoom.nbUsers }} {{ 'classroom.member-text' | translate }}
                </p>
            </div>
        </div>

        <div class="pull-right" data-ng-if="isOwner(classRoom) || user.type == 96">
            <span class="room-remove" data-ng-click="$event.stopPropagation(); removeRoom(classRoom)">
                <i class="fa fa-trash-o" style="font-size: 2rem; color: #fe6161"></i>
            </span>
        </div>


        <div class="pull-right" data-ng-if="!isOwner(classRoom) && user.type != 96">
            <span class="room-remove" data-ng-click="$event.stopPropagation(); leave(classRoom)" tooltip-trigger tooltip-placement="left" tooltip="Quitter le groupe">
                <i class="fa fa-sign-out" style="font-size: 2rem; color: #fe6161"></i>
            </span>
        </div>


        <div class="clearfix"></div>

        <div class="classroom-footer clearfix">
            <a href="javascript:;" class="text-center">
                Voir
            </a>
        </div>

    </div>


    <!-- New rooms -->
    <div class="classroom-item col-md-4" data-ng-repeat="classRoom in rooms" data-ng-if="classRoom.owners.length > 0 && !classRoom.joined">
        <div class="wrapper pull-left">

            <!-- Room owner -->
            <div class="classroom-owners pull-left" data-ng-repeat="owner in classRoom.owners | limitTo: 1 ">
                <a data-ui-sref="app.profile({ id: owner.id })">
                    <img ng-src="{{ owner.avatar }}" alt="" class="avatar">
                </a>
            </div>

            <!-- Room name and info -->
            <div class="classroom-right">
                <p>{{ classRoom.name }}</p>
                <p class="text-muted">
                    <i class="fa fa-clock-o"></i>
                    {{ 'classroom.created-text' | translate }}
                    <span am-time-ago="classRoom.createdAt "></span>
                </p>
                <p class="text-muted">
                    <img src="images/members/members-icon.svg" width="14px" class="cloud-icon">
                    {{ classRoom.nbUsers }} {{ 'classroom.member-text' | translate }}
                </p>
            </div>
        </div>

        <div class="pull-right" data-ng-if="isOwner(classRoom)">
            <span class="room-remove" data-ng-click="$event.stopPropagation(); removeRoom(classRoom)">
                <i class="fa fa-trash-o" style="font-size: 2rem; color: #fe6161"></i>
            </span>
        </div>

        <div class="clearfix"></div>

        <div class="classroom-footer clearfix c-joined">
            <a href="javascript:;" data-ng-click="$event.stopPropagation(); join(classRoom)" class="text-center">
                {{ 'classroom.cta-join' | translate }}
            </a>
        </div>

    </div>
</div>